<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>FrancoGame - Comandi console (Beta Tester)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="dark light">

  <script>
    (function() {
      const storageKey = 'francogame-theme';
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      let saved = null;

      try { saved = localStorage.getItem(storageKey); } catch (_) {}

      const mode = saved === 'light' || saved === 'dark' ? saved : 'system';
      const resolved = mode === 'dark' ? 'dark' : mode === 'light' ? 'light' : (prefersDark ? 'dark' : 'light');
      document.documentElement.classList.add(resolved === 'dark' ? 'theme-dark' : 'theme-light');
    })();
  </script>

  <style>
    :root {
      --bg: #0b1224;
      --bg-elevated: #0f172a;
      --bg-card: #0a1426;
      --border-subtle: #1f2937;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.12);
      --accent-strong: #0ea5e9;
      --text-main: #e5e7eb;
      --text-muted: #cbd5e1;
      --text-soft: #94a3b8;
      --code-bg: #020617;
      --code-border: #1f2937;
      --scrollbar-track: #0b1224;
      --scrollbar-thumb: #1f2937;
      --scrollbar-thumb-hover: #4b5563;
      --danger: #f97373;
      --success: #34d399;
      --focus-ring: rgba(56, 189, 248, 0.55);
      --high-contrast-text: #ffffff;
      --muted-contrast: #b9c0c7;
      --panel: rgba(15, 23, 42, 0.94);
      --panel-alt: rgba(7, 14, 31, 0.94);
      --shadow-elevated: 0 18px 45px rgba(0, 0, 0, 0.72), 0 0 0 1px rgba(15, 23, 42, 0.7);
      --shadow-sidebar: 0 20px 40px rgba(0, 0, 0, 0.55);
      --danger-soft: rgba(249, 115, 115, 0.12);
      --success-soft: rgba(52, 211, 153, 0.14);
    }

    .theme-dark {
      --bg: #071028;
      --bg-elevated: #0a152f;
      --bg-card: #0b162f;
      --border-subtle: #1f2c3f;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.12);
      --accent-strong: #0ea5e9;
      --text-main: #f7f8fb;
      --text-muted: #cbd5e1;
      --text-soft: #9fb2cc;
      --code-bg: #02101a;
      --code-border: #1f2937;
      --scrollbar-track: #0b1224;
      --scrollbar-thumb: #2b3440;
      --scrollbar-thumb-hover: #4b5563;
      --danger: #ff7b7b;
      --success: #34d399;
      --focus-ring: rgba(56, 189, 248, 0.55);
      --high-contrast-text: #ffffff;
      --muted-contrast: #c7cdd4;
      --panel: rgba(11, 20, 41, 0.96);
      --panel-alt: rgba(8, 16, 32, 0.96);
      --shadow-elevated: 0 20px 48px rgba(0, 0, 0, 0.66), 0 0 0 1px rgba(15, 23, 42, 0.55);
      --shadow-sidebar: 0 22px 42px rgba(0, 0, 0, 0.55);
      --danger-soft: rgba(255, 123, 123, 0.16);
      --success-soft: rgba(52, 211, 153, 0.16);
    }

    .theme-light {
      --bg: #f6fbff;
      --bg-elevated: #ffffff;
      --bg-card: #ffffff;
      --border-subtle: #dbe5f2;
      --accent: #0b5f88;
      --accent-soft: rgba(3, 105, 161, 0.08);
      --accent-strong: #0f7db3;
      --text-main: #0b1220;
      --text-muted: #1f2933;
      --text-soft: #4b5565;
      --code-bg: #f3f7fb;
      --code-border: #dbe5f2;
      --scrollbar-track: #e9f1fb;
      --scrollbar-thumb: #c8d6e6;
      --scrollbar-thumb-hover: #a8bfd3;
      --danger: #d64545;
      --success: #059669;
      --focus-ring: rgba(3, 105, 161, 0.2);
      --high-contrast-text: #071127;
      --muted-contrast: #475569;
      --panel: #ffffff;
      --panel-alt: #f7fbff;
      --shadow-elevated: 0 16px 36px rgba(8, 47, 73, 0.12), 0 0 0 1px rgba(3, 105, 161, 0.08);
      --shadow-sidebar: 0 18px 32px rgba(8, 47, 73, 0.12);
      --danger-soft: rgba(214, 69, 69, 0.12);
      --success-soft: rgba(5, 150, 105, 0.12);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      font-size: 16px;
      color: var(--text-main);
      background: radial-gradient(circle at 10% 0%, var(--bg-card) 0, var(--bg-card) 35%, var(--bg) 100%);
    }

    body {
      display: flex;
      min-height: 100vh;
      overflow: hidden;
      font-family: "Segoe UI", "Segoe UI Variable", system-ui, -apple-system, sans-serif;
      transition: background-color 0.2s ease, color 0.2s ease;
    }

    :focus-visible {
      outline: 3px solid var(--focus-ring);
      outline-offset: 2px;
      border-radius: 6px;
    }

    .sidebar, p, .cmd-desc, .nav-list li a {
      color: var(--text-muted);
    }

    .sidebar-title, .page-title {
      color: var(--high-contrast-text);
    }

    /* Layout */
    .sidebar {
      width: 280px;
      background: linear-gradient(180deg, var(--bg-card), var(--bg) 65%, var(--bg));
      border-right: 1px solid var(--border-subtle);
      padding: 1.5rem 1.25rem;
      display: flex;
      flex-direction: column;
      position: sticky;
      left: 0;
      top: 0;
      bottom: 0;
      max-height: 100vh;
      overflow-y: auto;
      box-shadow: var(--shadow-sidebar);
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
    }

    .badge-engine {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: var(--accent-soft);
      color: var(--accent);
      padding: 0.18rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(56, 189, 248, 0.35);
    }

    .logo-circle {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #38bdf8 0, #0ea5e9 30%, #0369a1 70%, #020617 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
      color: #e5f3ff;
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.7), 0 0 16px rgba(56, 189, 248, 0.35);
    }

    .sidebar-title-block {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }

    .sidebar-title {
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .sidebar-subtitle {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .sidebar-note {
      font-size: 0.78rem;
      color: var(--text-muted);
      line-height: 1.4;
      background: var(--panel-alt);
      border-radius: 0.75rem;
      padding: 0.6rem 0.7rem;
      border: 1px solid var(--border-subtle);
      margin-bottom: 1rem;
    }

    .sidebar-note strong {
      color: var(--accent-strong);
      font-weight: 600;
    }

    .nav-section-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-soft);
      margin: 0.75rem 0 0.4rem;
    }

    .nav-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .nav-list li a {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-decoration: none;
      font-size: 0.82rem;
      color: var(--text-muted);
      padding: 0.35rem 0.5rem;
      border-radius: 0.5rem;
      transition: background 0.15s ease, color 0.15s ease, transform 0.08s ease;
    }

    .nav-list li a:hover {
      background: var(--accent-soft);
      color: var(--accent);
      transform: translateX(2px);
    }

    .nav-bullet {
      width: 4px;
      height: 4px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.7);
    }

    .nav-list li a span.section-index {
      font-variant-numeric: tabular-nums;
      font-size: 0.72rem;
      color: var(--text-soft);
      opacity: 0.8;
    }

    .nav-footer {
      margin-top: 1.5rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border-subtle);
      font-size: 0.75rem;
      color: var(--text-soft);
    }

    .nav-footer small {
      display: block;
      margin-top: 0.15rem;
    }

    .nav-footer-code {
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.7rem;
      background: var(--panel-alt);
      border-radius: 999px;
      padding: 0.2rem 0.55rem;
      border: 1px solid var(--border-subtle);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      margin-top: 0.35rem;
      color: var(--text-soft);
    }

    .nav-footer-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.4);
    }

    /* Content area */
    .content {
      flex: 1;
      overflow-y: auto;
      padding: 1.75rem 2.25rem 2rem;
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.05), transparent 30%);
    }

    .content-inner {
      max-width: 900px;
      margin: 0 auto;
    }

    .page-header {
      margin-bottom: 1.5rem;
    }

    .page-title {
      font-size: 1.5rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      margin: 0;
    }

    .page-subtitle {
      margin: 0.3rem 0 0;
      font-size: 0.9rem;
      color: var(--text-soft);
    }

    .tag-row {
      margin-top: 0.75rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      font-size: 0.7rem;
    }

    .tag-pill {
      padding: 0.2rem 0.55rem;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      background: var(--panel-alt);
      color: var(--text-soft);
    }

    .tag-pill strong {
      color: var(--accent);
      font-weight: 500;
    }

    /* Sections */
    section {
      margin-bottom: 1.75rem;
      border-radius: 1rem;
      padding: 1.1rem 1.1rem 1.2rem;
      background: linear-gradient(135deg, var(--accent-soft), transparent 60%), var(--panel);
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-elevated);
      transition: background 0.3s ease, border-color 0.2s ease;
    }

    section.alt {
      background: linear-gradient(135deg, transparent 40%, var(--accent-soft)), var(--panel-alt);
    }

    section h2 {
      margin-top: 0;
      margin-bottom: 0.6rem;
      font-size: 1.05rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
      color: var(--high-contrast-text);
    }

    section h2 span.section-label {
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--text-soft);
    }

    section h3 {
      margin-top: 0.9rem;
      margin-bottom: 0.4rem;
      font-size: 0.95rem;
      color: var(--high-contrast-text);
    }

    p {
      margin: 0.4rem 0;
      font-size: 0.9rem;
      line-height: 1.5;
      color: var(--text-muted);
    }

    ul {
      margin: 0.4rem 0 0.5rem 1.1rem;
      padding: 0;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    li + li {
      margin-top: 0.1rem;
    }

    /* Block styles */
    .callout {
      border-radius: 0.8rem;
      padding: 0.6rem 0.7rem;
      font-size: 0.85rem;
      background: var(--panel-alt);
      border: 1px solid var(--border-subtle);
      color: var(--text-muted);
      display: flex;
      gap: 0.5rem;
      margin: 0.4rem 0 0.6rem;
    }

    .callout-label {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--accent);
      padding-top: 0.1rem;
    }

    .callout.danger {
      border-color: rgba(248, 113, 113, 0.7);
      background: linear-gradient(135deg, var(--danger-soft), var(--panel-alt));
    }

    .callout.success {
      border-color: rgba(52, 211, 153, 0.75);
      background: linear-gradient(135deg, var(--success-soft), var(--panel-alt));
    }

    /* Code */
    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.8rem;
      background: var(--code-bg);
      padding: 0.08rem 0.3rem;
      border-radius: 0.35rem;
      border: 1px solid var(--code-border);
      color: var(--text-main);
    }

    pre {
      margin: 0.35rem 0 0.75rem;
      padding: 0.5rem 0.6rem;
      border-radius: 0.7rem;
      background: var(--code-bg);
      border: 1px solid var(--code-border);
      font-size: 0.8rem;
      overflow-x: auto;
    }

    pre code {
      background: transparent;
      border: none;
      padding: 0;
    }

    /* Command blocks */
    .cmd-group {
      margin: 0.4rem 0 0.7rem;
      padding: 0.55rem 0.65rem;
      border-radius: 0.7rem;
      background: var(--panel-alt);
      border: 1px solid var(--border-subtle);
    }

    .cmd-row {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 3fr);
      gap: 0.5rem 0.75rem;
      align-items: start;
      font-size: 0.86rem;
      padding: 0.25rem 0;
    }

    .cmd-row + .cmd-row {
      border-top: 1px dashed var(--border-subtle);
      padding-top: 0.45rem;
      margin-top: 0.3rem;
    }

    .cmd-name {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.78rem;
      padding: 0.16rem 0.4rem;
      background: var(--bg-elevated);
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      color: var(--text-main);
    }

    .cmd-name span.dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5);
    }

    .cmd-desc {
      color: var(--text-muted);
      line-height: 1.4;
    }

    .cmd-tag-row {
      margin-top: 0.2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      font-size: 0.7rem;
    }

    .cmd-tag {
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      padding: 0.12rem 0.45rem;
      color: var(--text-soft);
      background: var(--bg-elevated);
    }

    /* Lists inside sections */
    section ul.compact {
      margin-top: 0.25rem;
      margin-bottom: 0.4rem;
      font-size: 0.86rem;
    }

    section ul.compact li + li {
      margin-top: 0.12rem;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 9px;
      height: 9px;
    }

    ::-webkit-scrollbar-track {
      background: var(--scrollbar-track);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--scrollbar-thumb);
      border-radius: 999px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--scrollbar-thumb-hover);
    }

    /* Responsive */
    @media (max-width: 880px) {
      body {
        flex-direction: column;
      }

      .sidebar {
        position: relative;
        width: 100%;
        max-height: none;
        border-right: none;
        border-bottom: 1px solid var(--border-subtle);
        flex-shrink: 0;
        box-shadow: none;
      }

      .content {
        padding: 1.25rem 1.1rem 1.5rem;
      }

      .content-inner {
        max-width: 100%;
      }

      .cmd-row {
        grid-template-columns: minmax(0, 1.3fr) minmax(0, 3fr);
      }
    }
  </style>
</head>
<body>

  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo-circle">FG</div>
      <div class="sidebar-title-block">
        <div class="sidebar-title">FrancoGame</div>
        <div class="sidebar-subtitle">Comandi console | Beta testing</div>
      </div>
      <div style="margin-left:auto; display:flex; align-items:center; gap:0.5rem;">
        <label for="themeSelect" style="font-size:0.75rem; color:var(--text-soft);">Tema</label>
        <select id="themeSelect" aria-label="Seleziona tema" style="background:var(--bg-elevated); color:var(--text-main); border:1px solid var(--border-subtle); padding:0.22rem 0.4rem; border-radius:6px;">
          <option value="system">Sistema</option>
          <option value="light">Chiaro</option>
          <option value="dark">Scuro</option>
        </select>
      </div>
    </div>

    <div class="badge-engine">Unreal Engine 5.5.4</div>

    <div class="sidebar-note">
      Usa questa pagina come riferimento durante il testing.<br>
      <strong>I comandi vanno digitati nella console in gioco</strong> e confermati con Invio.
    </div>

    <div>
      <p class="nav-section-title">Sezioni</p>
      <ul class="nav-list">
        <li><a href="#intro"><span class="nav-bullet"></span><span class="section-index">1.</span> Introduzione</a></li>
        <li><a href="#base"><span class="nav-bullet"></span><span class="section-index">2.</span> Comandi base</a></li>
        <li><a href="#perf"><span class="nav-bullet"></span><span class="section-index">3.</span> Statistiche di performance</a></li>
        <li><a href="#gfx"><span class="nav-bullet"></span><span class="section-index">4.</span> Grafica &amp; performance</a></li>
        <li><a href="#comfort"><span class="nav-bullet"></span><span class="section-index">5.</span> Comfort visivo</a></li>
        <li><a href="#debug"><span class="nav-bullet"></span><span class="section-index">6.</span> Debug leggero</a></li>
        <li><a href="#bug"><span class="nav-bullet"></span><span class="section-index">7.</span> Comandi per bug</a></li>
        <li><a href="#report"><span class="nav-bullet"></span><span class="section-index">8.</span> Come riportare un bug</a></li>
      </ul>
    </div>

    <div class="nav-footer">
      Guida pensata per build interne di test.
      <small>Non condividere all'esterno senza autorizzazione.</small>
      <div class="nav-footer-code">
        <span class="nav-footer-dot"></span>
        <span>Console: tasto sotto <strong>Esc</strong></span>
      </div>
    </div>
  </aside>

  <main class="content">
    <div class="content-inner">

      <header class="page-header">
        <h1 class="page-title">Comandi console per beta tester</h1>
        <p class="page-subtitle">
          Riferimento rapido per modificare grafica, performance e debug nelle build di FrancoGame.
        </p>
        <div class="tag-row">
          <div class="tag-pill"><strong>Target</strong> - Beta tester</div>
          <div class="tag-pill"><strong>Piattaforma</strong> - Build interne UE 5.5.4</div>
          <div class="tag-pill"><strong>Uso</strong> - Solo in ambienti non di produzione</div>
        </div>
      </header>

      <!-- 1. Introduzione -->
      <section id="intro">
        <h2>
          1. Introduzione
          <span class="section-label">Come usare questa pagina</span>
        </h2>
        <p>
          In questa build il gioco non ha ancora un menu opzioni completo. Per modificare grafica, performance e alcune impostazioni di debug
          si usa la <strong>console di gioco</strong>.
        </p>
        <ul class="compact">
          <li>La console si apre di solito con il tasto <code>~</code> (tilde) o il tasto sotto <code>Esc</code>.</li>
          <li>Su alcune tastiere potrebbe essere mappata su un tasto diverso: se non succede nulla, avvisa lo sviluppatore.</li>
        </ul>
        <div class="callout">
          <div class="callout-label">Nota</div>
          <div>
            Tutti i comandi elencati in questa pagina vanno digitati nella console e confermati con <strong>Invio</strong>.
          </div>
        </div>
      </section>

      <!-- 2. Comandi base -->
      <section id="base" class="alt">
        <h2>2. Comandi base <span class="section-label">Controllo del gioco</span></h2>

        <h3>2.1 Controllo generale del gioco</h3>

        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>quit</span></div>
            <div class="cmd-desc">
              Chiude immediatamente il gioco.
              <div class="cmd-tag-row">
                <span class="cmd-tag">Uscita</span>
                <span class="cmd-tag">Globale</span>
              </div>
            </div>
          </div>

          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>restartlevel</span></div>
            <div class="cmd-desc">
              Ricarica il livello corrente da capo.
              <div class="cmd-tag-row">
                <span class="cmd-tag">Reset rapido</span>
                <span class="cmd-tag">Debug</span>
              </div>
            </div>
          </div>

          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>open NomeMappa</span></div>
            <div class="cmd-desc">
              Carica una mappa specifica, se abilitato nella build. Esempi:
              <br><code>open MainMenu</code>, <code>open Level01</code>
              <div class="cmd-tag-row">
                <span class="cmd-tag">Salto mappa</span>
                <span class="cmd-tag">Solo se consentito</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 3. Statistiche di performance -->
      <section id="perf">
        <h2>3. Statistiche di performance <span class="section-label">FPS, tempi &amp; memoria</span></h2>

        <p>
          Usa questi comandi quando ti viene chiesto di riportare cali di frame, lag o problemi di performance.
        </p>

        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>stat fps</span></div>
            <div class="cmd-desc">
              Mostra gli FPS (frame al secondo) in tempo reale.
            </div>
          </div>

          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>stat unit</span></div>
            <div class="cmd-desc">
              Mostra i tempi principali:
              <ul class="compact">
                <li><strong>Game</strong> - logica di gioco</li>
                <li><strong>Draw</strong> - render CPU</li>
                <li><strong>GPU</strong> - scheda video</li>
                <li><strong>RHIT</strong> - render thread</li>
              </ul>
            </div>
          </div>

          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>stat unitgraph</span></div>
            <div class="cmd-desc">
              Come <code>stat unit</code>, ma con un grafico temporale che mostra l'andamento nel tempo.
            </div>
          </div>

          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>stat memory</span></div>
            <div class="cmd-desc">
              Mostra l'uso di memoria (utile su macchine con poca RAM o grossi caricamenti).
            </div>
          </div>
        </div>

        <div class="callout success">
          <div class="callout-label">Suggerimento</div>
          <div>
            Per segnalare un bug di performance abilita almeno <code>stat fps</code> e <code>stat unit</code> e allega uno screenshot.
          </div>
        </div>
      </section>

      <!-- 4. Grafica & performance -->
      <section id="gfx" class="alt">
        <h2>4. Impostazioni di grafica e performance <span class="section-label">Preset &amp; regolazioni</span></h2>

        <div class="callout">
          <div class="callout-label">Regola generale</div>
          <div>
            Se il gioco scatta o va lento, prova prima i preset <strong>Bassa</strong> o <strong>Media</strong>.<br>
            Se il gioco è fluido e vuoi più qualità, prova <strong>Alta</strong>.
          </div>
        </div>

        <h3>4.1 Limite di FPS</h3>
        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>t.MaxFPS 0</span></div>
            <div class="cmd-desc">
              Nessun limite di FPS.
            </div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>t.MaxFPS 60</span></div>
            <div class="cmd-desc">
              Limita il gioco a 60 FPS (puoi usare anche 30, 120, 144, ecc.).
              <div class="cmd-tag-row">
                <span class="cmd-tag">Stabilità</span>
                <span class="cmd-tag">Riduzione carico</span>
              </div>
            </div>
          </div>
        </div>

        <p>Consigliato quando:</p>
        <ul class="compact">
          <li>il PC scalda troppo</li>
          <li>la GPU è costantemente al 100%</li>
          <li>preferisci un frame rate più stabile</li>
        </ul>

        <h3>4.2 VSync (sincronizzazione verticale)</h3>

        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.VSync 1</span></div>
            <div class="cmd-desc">
              VSync attivo: riduce il tearing verticale, può causare piccoli cali di FPS.
            </div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.VSync 0</span></div>
            <div class="cmd-desc">
              VSync disattivo: più FPS possibili, ma può comparire tearing.
            </div>
          </div>
        </div>

        <h3>4.3 Risoluzione interna (Screen Percentage)</h3>

        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.ScreenPercentage 100</span></div>
            <div class="cmd-desc">Qualità normale (100% della risoluzione).</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.ScreenPercentage 80</span></div>
            <div class="cmd-desc">Leggero boost di performance con perdita minima di qualità.</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.ScreenPercentage 70</span></div>
            <div class="cmd-desc">Qualità ridotta, utile su PC più deboli.</div>
          </div>
        </div>

        <p><strong>Suggerimento:</strong></p>
        <pre><code>r.ScreenPercentage 80</code></pre>
        <p>
          Se il gioco è ancora troppo pesante, scendi a <code>70</code>.
        </p>

        <h3>4.4 Preset grafici consigliati</h3>
        <p>
          I seguenti comandi regolano i "gruppi di qualità" dell'engine. Valori validi:
          <code>0</code> (molto basso) → <code>4</code> (molto alto / cinematico).
        </p>
        <ul class="compact">
          <li><code>sg.ViewDistance X</code> - distanza di visualizzazione oggetti</li>
          <li><code>sg.ShadowQuality X</code> - qualità ombre</li>
          <li><code>sg.PostProcessQuality X</code> - effetti post-process (bloom, DOF, ecc.)</li>
          <li><code>sg.TextureQuality X</code> - qualità texture</li>
          <li><code>sg.EffectsQuality X</code> - particelle / effetti</li>
          <li><code>sg.FoliageQuality X</code> - vegetazione</li>
          <li><code>sg.ReflectionQuality X</code> - riflessi</li>
          <li>(se presente) <code>sg.GlobalIlluminationQuality X</code> - illuminazione globale</li>
        </ul>

        <h3>4.4.1 Preset "Bassa qualità" (PC deboli)</h3>
        <pre><code>sg.ViewDistance 1
sg.ShadowQuality 1
sg.PostProcessQuality 1
sg.TextureQuality 1
sg.EffectsQuality 1
sg.FoliageQuality 0
sg.ReflectionQuality 1
r.ScreenPercentage 80</code></pre>

        <h3>4.4.2 Preset "Media qualità" (equilibrato)</h3>
        <pre><code>sg.ViewDistance 2
sg.ShadowQuality 2
sg.PostProcessQuality 2
sg.TextureQuality 3
sg.EffectsQuality 2
sg.FoliageQuality 2
sg.ReflectionQuality 2
r.ScreenPercentage 100</code></pre>

        <h3>4.4.3 Preset "Alta qualità" (PC buoni)</h3>
        <pre><code>sg.ViewDistance 3
sg.ShadowQuality 3
sg.PostProcessQuality 3
sg.TextureQuality 4
sg.EffectsQuality 3
sg.FoliageQuality 3
sg.ReflectionQuality 3
r.ScreenPercentage 100</code></pre>

        <div class="callout danger">
          <div class="callout-label">Attenzione</div>
          <div>
            Se con il preset "Alta qualità" il gioco subisce cali di performance, torna a <strong>Media qualità</strong>.
          </div>
        </div>
      </section>

      <!-- 5. Comfort visivo -->
      <section id="comfort">
        <h2>5. Comfort visivo <span class="section-label">FOV &amp; motion blur</span></h2>

        <h3>5.1 Campo visivo (FOV)</h3>

        <p>Valori comuni:</p>
        <ul class="compact">
          <li><code>fov 80</code> - per schermi più piccoli o giocatori sensibili al motion sickness</li>
          <li><code>fov 90</code> - valore intermedio consigliato</li>
          <li><code>fov 100</code> - per chi preferisce un campo visivo più ampio</li>
        </ul>

        <p>
          Se ti gira la testa o ti senti "stretto" sullo schermo, prova <code>fov 90</code>.
        </p>

        <h3>5.2 Motion blur</h3>
        <p>
          L'uso del motion blur dipende da come è stata configurata la build. Se supportato, alcuni comandi tipici sono:
        </p>

        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.MotionBlurQuality 0</span></div>
            <div class="cmd-desc">Disattiva il motion blur.</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.MotionBlurQuality 2</span></div>
            <div class="cmd-desc">Imposta un livello medio di motion blur.</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.MotionBlur.Amount 0.0</span></div>
            <div class="cmd-desc">Nessun blur (se supportato).</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>r.MotionBlur.Amount 0.5</span></div>
            <div class="cmd-desc">Blur moderato.</div>
          </div>
        </div>

        <p><strong>Per ridurre il fastidio visivo:</strong></p>
        <pre><code>r.MotionBlurQuality 0
r.MotionBlur.Amount 0.0</code></pre>
        <p>(solo se la build supporta questi comandi)</p>
      </section>

      <!-- 6. Debug leggero -->
      <section id="debug" class="alt">
        <h2>6. Comandi di debug "leggeri" per QA <span class="section-label">Senza rompere il bilanciamento</span></h2>

        <p>
          Questi comandi aiutano il testing senza stravolgere il gioco. Se non funzionano, potrebbero essere stati disattivati.
        </p>

        <h3>6.1 Collisioni e navigazione</h3>
        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>show Collision</span></div>
            <div class="cmd-desc">Mostra le collisioni delle mesh.</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>show Navigation</span></div>
            <div class="cmd-desc">Mostra il navmesh (zone in cui l'IA può muoversi).</div>
          </div>
        </div>

        <h3>6.2 Camera e debug visuale</h3>
        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>toggledebugcamera</span></div>
            <div class="cmd-desc">Attiva una camera libera di debug, potenzialmente con info aggiuntive.</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>showflag.PostProcessing 0</span></div>
            <div class="cmd-desc">Disattiva il post-process (utile per vedere il gioco "pulito").</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>showflag.PostProcessing 1</span></div>
            <div class="cmd-desc">Riattiva il post-process.</div>
          </div>
        </div>

        <h3>6.3 Debug della rete (se il gioco è multiplayer)</h3>
        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>stat net</span></div>
            <div class="cmd-desc">Mostra ping, packet loss, bandwidth e altre informazioni di rete.</div>
          </div>
        </div>

        <p><strong>Comandi avanzati</strong> (usali solo se richiesto espressamente):</p>
        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>net pktlag=XX</span></div>
            <div class="cmd-desc">Simula lag in millisecondi, es. <code>net pktlag=150</code>.</div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>net pktloss=XX</span></div>
            <div class="cmd-desc">Simula perdita di pacchetti in %, es. <code>net pktloss=5</code>.</div>
          </div>
        </div>
      </section>

      <!-- 7. Comandi per bug -->
      <section id="bug">
        <h2>7. Comandi per segnare e riprodurre bug <span class="section-label">Posizioni &amp; screenshot</span></h2>

        <p>
          Se il progetto li supporta, questi comandi sono molto utili per riprodurre bug in modo preciso.
        </p>

        <div class="cmd-group">
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>BugIt</span></div>
            <div class="cmd-desc">
              Salva uno screenshot e la posizione del giocatore nei log. Utile per lo sviluppatore per saltare direttamente al punto del bug.
            </div>
          </div>
          <div class="cmd-row">
            <div class="cmd-name"><span class="dot"></span><span>BugItGo X Y Z Yaw Pitch Roll</span></div>
            <div class="cmd-desc">
              Teletrasporta il giocatore a una posizione precisa salvata in precedenza.
            </div>
          </div>
        </div>
      </section>

      <!-- 8. Come riportare un bug -->
      <section id="report" class="alt">
        <h2>8. Come riportare un bug usando questi comandi <span class="section-label">Checklist per le segnalazioni</span></h2>

        <p>
          Quando segnali un problema, cerca di includere più informazioni possibili. Una buona segnalazione dovrebbe contenere:
        </p>

        <ol style="margin:0.4rem 0 0.6rem 1.1rem; padding:0; color:var(--text-muted); font-size:0.9rem; line-height:1.5;">
          <li>
            <strong>Descrizione breve del problema</strong><br>
            Esempio: "Il gioco cala a 25 FPS quando entro nella stanza grande del castello".
          </li>
          <li>
            <strong>Preset usato</strong><br>
            Bassa / Media / Alta oppure i comandi principali che hai impostato (<code>r.ScreenPercentage</code>, <code>sg.*</code>, ecc.).
          </li>
          <li>
            <strong>Comandi attivi al momento del bug</strong><br>
            Per esempio:
            <ul class="compact">
              <li><code>stat fps</code></li>
              <li><code>stat unit</code></li>
              <li>altri eventualmente richiesti (es. <code>stat memory</code>, <code>stat net</code>)</li>
            </ul>
          </li>
          <li>
            <strong>Screenshot o video</strong><br>
            Se possibile, includi un'immagine o un clip con i numeri a schermo (<code>stat fps</code>, <code>stat unit</code>).
          </li>
          <li>
            <strong>Passi per riprodurre</strong><br>
            Esempio: "Carico la mappa X → vado verso la porta a sinistra → entro nella stanza → giro la camera verso il centro".
          </li>
        </ol>

        <div class="callout">
          <div class="callout-label">Nota</div>
          <div>
            Questo documento copre i comandi console principali pensati per i beta tester.<br>
            Comandi extra o specifici del progetto possono essere aggiunti in una sezione dedicata (teletrasporti interni, feature sperimentali, salti rapidi a livelli o cutscene).
          </div>
        </div>
      </section>

    </div>
  </main>

  <script>
    (function() {
      const select = document.getElementById('themeSelect');
      const storageKey = 'francogame-theme';
      const prefersDarkMQ = window.matchMedia('(prefers-color-scheme: dark)');
      const colorSchemeMeta = document.querySelector('meta[name="color-scheme"]');

      const safeGet = () => {
        try { return localStorage.getItem(storageKey) || 'system'; } catch (_) { return 'system'; }
      };

      const safeSet = (val) => {
        try { localStorage.setItem(storageKey, val); } catch (_) {}
      };

      function applyTheme(mode) {
        const resolved = mode === 'dark'
          ? 'dark'
          : mode === 'light'
            ? 'light'
            : (prefersDarkMQ.matches ? 'dark' : 'light');

        document.documentElement.classList.toggle('theme-dark', resolved === 'dark');
        document.documentElement.classList.toggle('theme-light', resolved === 'light');
        colorSchemeMeta?.setAttribute('content', resolved === 'dark' ? 'dark light' : 'light dark');
      }

      const saved = safeGet();
      select.value = saved;
      applyTheme(saved);

      select.addEventListener('change', function() {
        const val = select.value;
        safeSet(val);
        applyTheme(val);
      });

      prefersDarkMQ.addEventListener('change', () => {
        if (safeGet() === 'system') {
          applyTheme('system');
        }
      });
    })();
  </script>

</body>
</html>
